<beanio xmlns="http://www.beanio.org/2012/03"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.beanio.org/2012/03 http://www.beanio.org/2012/03/mapping.xsd">

    <import resource="classpath:/beanio/handlers.xml"/>
    <import resource="classpath:/beanio/templates.xml"/>

    <stream name="cnab400RemessaPaulista" format="fixedlength" mode="read" >
        <record name="cnab400RemessaPaulistaHeader" minOccurs="1" maxOccurs="1" minLength="400" maxLength="400"
                class="br.com.fromtis.fidc.domain.importacao.RegistroCnab400Header">

            <include template="cnab400HeaderPadrao_v2"/>

            <field name="identificacaoArquivoRemessa" literal="1" position="1" length="1" required="true" trim="true" ignore="true"/>
            <field name="literalRemessa" literal="REMESSA" position="2" length="7" required="true" trim="true" ignore="true"/>
            <field name="codigoServico" literal="01" position="9" length="2" required="true" trim="true" ignore="true"/>
            <field name="literalServico" literal="COBRANCA" position="11" length="15" required="true" trim="true" ignore="true"/>
            <field name="codigoConsultoria" position="26" length="20" required="true" trim="true"/>
            <field name="nomeConsultoria" position="46" length="30" trim="true" required="true"/>
            <field name="codigoBanco" position="76" length="3" format="##0" trim="true" required="true" regex="^[0-9]*[1-9][0-9]*$"/>
            <field name="nomeBanco" position="79" length="15" trim="true" required="true"/>
            <field name="identificacaoSistema" position="108" length="2" literal="MX" required="true" trim="true" ignore="true"/>
            <field name="numeroSequencialArquivo" position="110" length="7" format="######0" type="int" required="true" ignore="true" regex="^[0-9]*[1-9][0-9]*$"/>
            <field name="dataGravacao" position="94" length="6" format="ddMMyy" required="true" trim="true"/>
        </record>

        <record name="cnab400RemessaPaulistaDetail" minOccurs="0" maxOccurs="unbounded" minLength="400" maxLength="400"
                class="br.com.fromtis.fidc.domain.importacao.RegistroCnab400Detail">

            <include template="cnab400DetailPadrao_v2"/>

            <field name="coobrigacao" position="20" length="2" format="#0" type="int" required="true" regex="0[0-2]"/>
            <field name="caracteristicaEspecial" position="22" length="2" format="#0" type="int" required="false" ignore="true"/>
            <field name="modalidade" position="24" length="4" format="###0" type="int" required="false" ignore="true"/>
            <field name="natureza" position="28" length="2" format="#0" type="int" required="false" ignore="true"/>
            <field name="origemRecurso" position="30" length="4" format="###0" type="int" required="false" ignore="true"/>
            <field name="riscoOperacao" position="34" length="2" required="false" ignore="true"/>
            <field name="seuNumero" position="37" length="25" trim="true"/>
            <field name="codigoBanco" position="62" length="3" trim="true"/>
            <field name="valorPago" position="82" length="10" padding="0" justify="right"/>
            <field name="dataLiquidacao" position="94" length="6" format="ddMMyy" trim="true"/>
            <field name="codigoOcorrencia" position="108" length="2" required="true" trim="true"/>
            <field name="numeroContrato" position="110" length="10" trim="true" required="true"/>
            <field name="dataVencimento" position="120" length="6" format="ddMMyy" required="true" trim="true"/>
            <field name="valorTitulo" position="126" length="13" padding="0" justify="right" trim="true" required="true" regex="^[0-9]*[1-9][0-9]*$"/>
            <field name="codigoEspecie" position="147" length="2" required="true" trim="true"/>
            <field name="dataEmissao" position="150" length="6" format="ddMMyy" required="true" trim="true"/>
            <field name="codigoMotivoOcorrencia01" position="156" length="2" trim="true"/>
            <field name="codigoMotivoOcorrencia02" position="158" length="1" trim="true"/>
            <field name="tipoPessoa" position="159" length="2" required="true" regex="0[0-2]" trim="true"/>
            <field name="termoCessao" position="173" length="19" required="false"/>
            <field name="valorPresenteParcela" position="192" length="13" padding="0" justify="right"/>
            <field name="valorAbatimento" position="205" length="13" padding="0" justify="right"/>
            <field name="tipoInscricao" position="218" length="2" required="true" trim="true" ignore="true"/>
            <field name="cpfCnpjSacado" position="220" length="14" trim="true" required="true" minLength="1" maxLength="14" typeHandler="cpfCnpjAttTypeHandler"/>
            <field name="nomeSacado" position="234" length="40" required="true" minLength="1" maxLength="40" trim="true"/>
            <field name="logradouroSacado" position="274" length="40" trim="true"/>
            <field name="numeroNotaFiscal" position="314" length="9" required="false"/>
            <field name="cepSacado" position="326" length="8" trim="true"/>
            <field name="nomeCedente" position="334" length="46" required="true" trim="true"/>
            <field name="cpfCnpjCedente" position="380" length="14" required="true" trim="true" minLength="1" maxLength="14" />
        </record>

        <record name="cnab400RemessaPaulistaTrailer" minOccurs="1" maxOccurs="1" minLength="400" maxLength="400"
                class="br.com.fromtis.fidc.domain.importacao.RegistroCnab400Trailer">

            <include template="cnab400TrailerPadrao_v2"/>
        </record>

    </stream>


</beanio>
